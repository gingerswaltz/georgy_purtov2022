<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        canvas {
            border: 1px solid #000;
            margin: 10px;
        }
    </style>
    <title>Рисование и поворот эллипса</title>
</head>

<body>

    <!-- Поля ввода для размеров эллипса и угла поворота -->
    <label for="width">Ширина эллипса: </label>
    <input type="number" id="width" placeholder="Введите ширину эллипса">
    <label for="height">Высота эллипса: </label>
    <input type="number" id="height" placeholder="Введите высоту эллипса">
    <label for="angle">Угол поворота (градусы): </label>
    <input type="number" id="angle" placeholder="Введите угол поворота">

    <!-- Кнопки для рисования и поворота эллипса -->
    <button onclick="drawEllipse()">Нарисовать эллипс</button>
    <button onclick="rotateEllipse()">Повернуть эллипс</button>

    <!-- Холст для отображения эллипса -->
    <canvas id="ellipseCanvas" width="400" height="400"></canvas>

    <script>
        const canvas = document.getElementById('ellipseCanvas');
        const ctx = canvas.getContext('2d');

        function drawEllipse() {
            const width = parseInt(document.getElementById('width').value); // Получение ширины эллипса из поля ввода и преобразование в целое число
            const height = parseInt(document.getElementById('height').value); // Получение высоты эллипса из поля ввода и преобразование в целое число

            ctx.clearRect(0, 0, canvas.width, canvas.height); // Очистка холста
            ctx.beginPath(); // Начало нового пути для рисования

            const centerX = canvas.width / 2; // X-координата центра холста
            const centerY = canvas.height / 2; // Y-координата центра холста

            ctx.moveTo(centerX + width / 2, centerY); // Переходим к начальной точке (правая точка на горизонтальной оси)

            // Рисуем первую четверть эллипса по часовой стрелке
            ctx.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, Math.PI / 2);
            // Рисуем вторую четверть эллипса по часовой стрелке
            ctx.ellipse(centerX, centerY, width / 2, height / 2, 0, Math.PI / 2, Math.PI);
            // Рисуем третью четверть эллипса по часовой стрелке
            ctx.ellipse(centerX, centerY, width / 2, height / 2, 0, Math.PI, Math.PI * 1.5);
            // Рисуем четвертую четверть эллипса по часовой стрелке
            ctx.ellipse(centerX, centerY, width / 2, height / 2, 0, Math.PI * 1.5, Math.PI * 2);

            ctx.stroke(); // Отрисовка контура эллипса
        }


        function rotateEllipse() {
            // Получение угла поворота из поля ввода
            const angle = parseInt(document.getElementById('angle').value);

            // Получение холста и контекста рисования
            const canvas = document.getElementById('ellipseCanvas');
            const ctx = canvas.getContext('2d');

            // Поворот холста на заданный угол
            ctx.translate(canvas.width / 2, canvas.height / 2);
            ctx.rotate(angle * Math.PI / 180); // преобразование из градусов в радианы
            ctx.translate(-canvas.width / 2, -canvas.height / 2);

            // Повторное рисование эллипса
            drawEllipse();
        }
    </script>

</body>

</html>